version: 2

models:
  - name: mql_details_wide
    description: Wide table combining marketing qualified lead data with seller performance metrics to analyze marketing channel effectiveness and seller success
    config:
      tags: ['marts', 'analytics', 'marketing', 'sales', 'seller_performance']
    
    columns:
      # Marketing and Deal Information
      - name: mql_id
        description: Unique identifier for the marketing qualified lead
        tests:
          - not_null
          - unique

      - name: seller_id
        description: Unique identifier for the seller

      - name: mql_first_contact_date
        description: Timestamp of first contact with the lead

      - name: deal_closed_datetime
        description: Timestamp when the deal was closed

      - name: days_to_close
        description: Days between first contact and deal closure

      - name: mql_origin_category
        description: Marketing channel that generated the lead

      # Lead Profile Information
      - name: lead_business_segment
        description: Business segment classification of the lead

      - name: lead_business_category
        description: Type of business the lead operates

      - name: declared_monthly_revenue
        description: Monthly revenue declared by the lead during qualification

      # Seller Performance Metrics
      - name: first_sale_date
        description: Date of the seller's first sale

      - name: last_sale_date
        description: Date of the seller's most recent sale

      - name: days_since_last_sale
        description: Number of days since the seller's last sale

      - name: life_time_seller_sales_value
        description: Total value of all sales made by the seller

      - name: avg_review_score
        description: Average customer review score for the seller

      - name: seller_status
        description: Current seller status based on recency of sales

      - name: revenue_performance_category
        description: Performance category based on actual vs declared revenue

      # Performance Indicators
      - name: actual_vs_declared_revenue_ratio
        description: Ratio of actual monthly revenue to declared monthly revenue

      - name: days_to_first_sale
        description: Days between deal closure and first sale

      - name: avg_monthly_orders
        description: Average number of orders per month since first sale

      - name: avg_monthly_revenue
        description: Average monthly revenue since first sale

      - name: order_problem_rate
        description: Percentage of orders that were canceled or unavailable
